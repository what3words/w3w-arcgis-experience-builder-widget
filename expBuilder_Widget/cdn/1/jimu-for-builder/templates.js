System.register(["jimu-core"],(function(e,t){var n={};return{setters:[function(e){n.appActions=e.appActions,n.getAppStore=e.getAppStore,n.i18n=e.i18n,n.moduleLoader=e.moduleLoader,n.translatedLocales=e.translatedLocales}],execute:function(){e((()=>{"use strict";var e={8891:e=>{e.exports=n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{TemplateType:()=>e,getAppTemplates:()=>u,getBlockTemplates:()=>g,getFooterTemplates:()=>f,getFullScreenPageTemplates:()=>c,getHeaderTemplates:()=>d,getScreenGroupTemplates:()=>m,getScreenTemplates:()=>h,getScrollingPageTemplates:()=>s,getTemplateConfig:()=>v,getWindowTemplates:()=>p,init:()=>a,loadI18nMessage:()=>y});var e,t=o(8891);!function(e){e.Block="block",e.Header="header",e.Footer="footer",e.FullScreenPage="full-screen-page",e.ScrollingPage="scrolling-page",e.Window="window",e.ScreenGroup="screen-group",e.Screen="screen",e.App="app"}(e||(e={}));var n=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{u(o.next(e))}catch(e){i(e)}}function a(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}u((o=o.apply(e,t||[])).next())}))};let i=null,l={};function a(){return n(this,void 0,void 0,(function*(){return yield y(),yield function(){if(i)return i;const e=(0,t.getAppStore)().getState().appContext.translatedLocale,n=t.moduleLoader.resolveModuleFullPath("templates/");return i=fetch(`${n}templates-info.json`).then((e=>e.json())).then((t=>(l=t,Object.keys(l).forEach((t=>{l[t].forEach((t=>{const o=`${n}${t.type}/${t.name}`;t.label=t.i18nLabel[e]||t.label||t.name,t.description=t.i18nDescription[e]||t.description||"",t.thumbnail=`${o}/${t.thumbnail}`,t.gifThumbnail&&(t.gifThumbnail=`${o}/${t.gifThumbnail}`),t.configUrl=`${o}/config.json`}))})),l))),i}()}))}function u(e){const t=l.app||[];return e&&0!==(null==e?void 0:e.length)?t.filter((t=>{const n=(null==t?void 0:t.tags)||[];return e.filter((e=>n.includes(e))).length>0})):t}function c(){return l["full-screen-page"]||[]}function s(){return l["scrolling-page"]||[]}function p(){return l.window||[]}function d(){return l.header||[]}function f(){return l.footer||[]}function g(){return l.block||[]}function m(){return l["screen-group"]||[]}function h(){return l.screen||[]}function v(e,t){return n(this,void 0,void 0,(function*(){return yield fetch(`../templates/${e}/${t}/config.json`).then((e=>n(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>e))}))}function y(){return n(this,void 0,void 0,(function*(){const e=(0,t.getAppStore)().getState().appContext.locale;return yield function(e,o){return n(this,void 0,void 0,(function*(){if(e=t.i18n.getLocaleToLoad(e,o)){const n=t.moduleLoader.resolveModuleFullPath("templates/");return yield t.i18n.loadLocaleMessages(`${n}/translations`,e).then((e=>e))}return Promise.resolve({})}))}(e,t.translatedLocales).then((e=>(e&&(0,t.getAppStore)().dispatch(t.appActions.i18nMessagesLoaded("templates",e)),e)))}))}})(),r})())}}}));