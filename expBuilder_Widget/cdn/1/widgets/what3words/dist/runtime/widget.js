System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-ui/basic/copy-button"],(function(e,t){var o={},n={},i={},r={};return{setters:[function(e){o.React=e.React,o.UtilityManager=e.UtilityManager,o.classNames=e.classNames,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){n.JimuMapViewComponent=e.JimuMapViewComponent,n.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){i.Button=e.Button},function(e){r.CopyButton=e.CopyButton}],execute:function(){e((()=>{var e={165:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 16"><g clip-path="url(#a)"><path fill="#000" d="M3.5 2a.5.5 0 0 1 0 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-3.5a.5.5 0 0 1 1 0V14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zM12.65.146l3.008 3.009.346.345-3.354 3.354a.5.5 0 0 1-.707-.708L14.17 3.92c-5.933-.282-8.47 2.178-7.875 7.525a.5.5 0 0 1-.994.11c-.66-5.938 2.328-8.865 8.703-8.641l-2.06-2.06a.5.5 0 0 1-.058-.638l.058-.07a.5.5 0 0 1 .707 0"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16.004v16H0z"></path></clipPath></defs></svg>'},724:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAACxLAAAsSwGlPZapAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDQtMDdUMTA6NDY6NTQrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTA3VDEwOjUzOjUyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTA3VDEwOjUzOjUyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJmMWMxNGFiLTU4NDkt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"},686:e=>{"use strict";e.exports=n},244:e=>{"use strict";e.exports=o},321:e=>{"use strict";e.exports=i},407:e=>{"use strict";e.exports=r}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var a={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(a),s.d(a,{__set_webpack_public_path__:()=>Wt,default:()=>Ft});var e={};s.r(e),s.d(e,{hasBrowserEnv:()=>fe,hasStandardBrowserEnv:()=>me,hasStandardBrowserWebWorkerEnv:()=>we,navigator:()=>ge,origin:()=>ye});var t=s(244),o=s(686);function n(e,t){return function(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:r}=Object,l=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const d=e=>(e=e.toLowerCase(),t=>l(t)===e),u=e=>t=>typeof t===e,{isArray:p}=Array,h=u("undefined");const f=d("ArrayBuffer");const g=u("string"),m=u("function"),w=u("number"),y=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==l(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=d("Date"),S=d("File"),A=d("Blob"),E=d("FileList"),x=d("URLSearchParams"),[R,O,j,T]=["ReadableStream","Request","Response","Headers"].map(d);function P(e,t,{allOwnKeys:o=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),p(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=o?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let s;for(n=0;n<r;n++)s=i[n],t.call(null,e[s],s,e)}}function N(e,t){t=t.toLowerCase();const o=Object.keys(e);let n,i=o.length;for(;i-- >0;)if(n=o[i],t===n.toLowerCase())return n;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,U=e=>!h(e)&&e!==C;const L=(k="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>k&&e instanceof k);var k;const I=d("HTMLFormElement"),D=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),M=d("RegExp"),B=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),n={};P(o,((o,i)=>{let r;!1!==(r=t(o,i,e))&&(n[i]=r||o)})),Object.defineProperties(e,n)},G="abcdefghijklmnopqrstuvwxyz",F="0123456789",W={DIGIT:F,ALPHA:G,ALPHA_DIGIT:G+G.toUpperCase()+F};const z=d("AsyncFunction"),V=(_="function"==typeof setImmediate,H=m(C.postMessage),_?setImmediate:H?(J=`axios@${Math.random()}`,Z=[],C.addEventListener("message",(({source:e,data:t})=>{e===C&&t===J&&Z.length&&Z.shift()()}),!1),e=>{Z.push(e),C.postMessage(J,"*")}):e=>setTimeout(e));var _,H,J,Z;const q="undefined"!=typeof queueMicrotask?queueMicrotask.bind(C):"undefined"!=typeof process&&process.nextTick||V,X={isArray:p,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=l(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:g,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:v,isReadableStream:R,isRequest:O,isResponse:j,isHeaders:T,isUndefined:h,isDate:b,isFile:S,isBlob:A,isRegExp:M,isFunction:m,isStream:e=>y(e)&&m(e.pipe),isURLSearchParams:x,isTypedArray:L,isFileList:E,forEach:P,merge:function e(){const{caseless:t}=U(this)&&this||{},o={},n=(n,i)=>{const r=t&&N(o,i)||i;v(o[r])&&v(n)?o[r]=e(o[r],n):v(n)?o[r]=e({},n):p(n)?o[r]=n.slice():o[r]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&P(arguments[e],n);return o},extend:(e,t,o,{allOwnKeys:i}={})=>(P(t,((t,i)=>{o&&m(t)?e[i]=n(t,o):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,o,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},toFlatObject:(e,t,o,n)=>{let i,s,a;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],n&&!n(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==o&&r(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:d,endsWith:(e,t,o)=>{e=String(e),(void 0===o||o>e.length)&&(o=e.length),o-=t.length;const n=e.indexOf(t,o);return-1!==n&&n===o},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!w(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},forEachEntry:(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=o.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},matchAll:(e,t)=>{let o;const n=[];for(;null!==(o=e.exec(t));)n.push(o);return n},isHTMLForm:I,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,o)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(o))return!1;const n=e[o];m(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")}))}))},toObjectSet:(e,t)=>{const o={},n=e=>{e.forEach((e=>{o[e]=!0}))};return p(e)?n(e):n(String(e).split(t)),o},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,o){return t.toUpperCase()+o})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:N,global:C,isContextDefined:U,ALPHABET:W,generateString:(e=16,t=W.ALPHA_DIGIT)=>{let o="";const{length:n}=t;for(;e--;)o+=t[Math.random()*n|0];return o},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),o=(e,n)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=p(e)?[]:{};return P(e,((e,t)=>{const r=o(e,n+1);!h(r)&&(i[t]=r)})),t[n]=void 0,i}}return e};return o(e,0)},isAsyncFn:z,isThenable:e=>e&&(y(e)||m(e))&&m(e.then)&&m(e.catch),setImmediate:V,asap:q};function Q(e,t,o,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const K=Q.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Y[e]={value:e}})),Object.defineProperties(Q,Y),Object.defineProperty(K,"isAxiosError",{value:!0}),Q.from=(e,t,o,n,i,r)=>{const s=Object.create(K);return X.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Q.call(s,e.message,t,o,n,i),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const $=Q;function ee(e){return X.isPlainObject(e)||X.isArray(e)}function te(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function oe(e,t,o){return e?e.concat(t).map((function(e,t){return e=te(e),!o&&t?"["+e+"]":e})).join(o?".":""):t}const ne=X.toFlatObject(X,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ie=function(e,t,o){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(o=X.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!X.isUndefined(t[e])}))).metaTokens,i=o.visitor||c,r=o.dots,s=o.indexes,a=(o.Blob||"undefined"!=typeof Blob&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(X.isDate(e))return e.toISOString();if(!a&&X.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(e)||X.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,o,i){let a=e;if(e&&!i&&"object"==typeof e)if(X.endsWith(o,"{}"))o=n?o:o.slice(0,-2),e=JSON.stringify(e);else if(X.isArray(e)&&function(e){return X.isArray(e)&&!e.some(ee)}(e)||(X.isFileList(e)||X.endsWith(o,"[]"))&&(a=X.toArray(e)))return o=te(o),a.forEach((function(e,n){!X.isUndefined(e)&&null!==e&&t.append(!0===s?oe([o],n,r):null===s?o:o+"[]",l(e))})),!1;return!!ee(e)||(t.append(oe(i,o,r),l(e)),!1)}const d=[],u=Object.assign(ne,{defaultVisitor:c,convertValue:l,isVisitable:ee});if(!X.isObject(e))throw new TypeError("data must be an object");return function e(o,n){if(!X.isUndefined(o)){if(-1!==d.indexOf(o))throw Error("Circular reference detected in "+n.join("."));d.push(o),X.forEach(o,(function(o,r){!0===(!(X.isUndefined(o)||null===o)&&i.call(t,o,X.isString(r)?r.trim():r,n,u))&&e(o,n?n.concat(r):[r])})),d.pop()}}(e),t};function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function se(e,t){this._pairs=[],e&&ie(e,this,t)}const ae=se.prototype;ae.append=function(e,t){this._pairs.push([e,t])},ae.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const le=se;function ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function de(e,t,o){if(!t)return e;const n=o&&o.encode||ce;X.isFunction(o)&&(o={serialize:o});const i=o&&o.serialize;let r;if(r=i?i(t,o):X.isURLSearchParams(t)?t.toString():new le(t,o).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const ue=class{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},pe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},he={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:le,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fe="undefined"!=typeof window&&"undefined"!=typeof document,ge="object"==typeof navigator&&navigator||void 0,me=fe&&(!ge||["ReactNative","NativeScript","NS"].indexOf(ge.product)<0),we="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ye=fe&&window.location.href||"http://localhost",ve={...e,...he};const be=function(e){function t(e,o,n,i){let r=e[i++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=i>=e.length;if(r=!r&&X.isArray(n)?n.length:r,a)return X.hasOwnProp(n,r)?n[r]=[n[r],o]:n[r]=o,!s;n[r]&&X.isObject(n[r])||(n[r]=[]);return t(e,o,n[r],i)&&X.isArray(n[r])&&(n[r]=function(e){const t={},o=Object.keys(e);let n;const i=o.length;let r;for(n=0;n<i;n++)r=o[n],t[r]=e[r];return t}(n[r])),!s}if(X.isFormData(e)&&X.isFunction(e.entries)){const o={};return X.forEachEntry(e,((e,n)=>{t(function(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,o,0)})),o}return null};const Se={transitional:pe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",n=o.indexOf("application/json")>-1,i=X.isObject(e);i&&X.isHTMLForm(e)&&(e=new FormData(e));if(X.isFormData(e))return n?JSON.stringify(be(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ie(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(e,t,o,n){return ve.isNode&&X.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=X.isFileList(e))||o.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ie(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,o){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(o||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Se.transitional,o=t&&t.forcedJSONParsing,n="json"===this.responseType;if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(o&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw $.from(e,$.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],(e=>{Se.headers[e]={}}));const Ae=Se,Ee=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xe=Symbol("internals");function Re(e){return e&&String(e).trim().toLowerCase()}function Oe(e){return!1===e||null==e?e:X.isArray(e)?e.map(Oe):String(e)}function je(e,t,o,n,i){return X.isFunction(n)?n.call(this,t,o):(i&&(t=o),X.isString(t)?X.isString(n)?-1!==t.indexOf(n):X.isRegExp(n)?n.test(t):void 0:void 0)}class Te{constructor(e){e&&this.set(e)}set(e,t,o){const n=this;function i(e,t,o){const i=Re(t);if(!i)throw new Error("header name must be a non-empty string");const r=X.findKey(n,i);(!r||void 0===n[r]||!0===o||void 0===o&&!1!==n[r])&&(n[r||t]=Oe(e))}const r=(e,t)=>X.forEach(e,((e,o)=>i(e,o,t)));if(X.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(X.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let o,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),o=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!o||t[o]&&Ee[o]||("set-cookie"===o?t[o]?t[o].push(n):t[o]=[n]:t[o]=t[o]?t[o]+", "+n:n)})),t})(e),t);else if(X.isHeaders(e))for(const[t,n]of e.entries())i(n,t,o);else null!=e&&i(t,e,o);return this}get(e,t){if(e=Re(e)){const o=X.findKey(this,e);if(o){const e=this[o];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(e);)t[n[1]]=n[2];return t}(e);if(X.isFunction(t))return t.call(this,e,o);if(X.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Re(e)){const o=X.findKey(this,e);return!(!o||void 0===this[o]||t&&!je(0,this[o],o,t))}return!1}delete(e,t){const o=this;let n=!1;function i(e){if(e=Re(e)){const i=X.findKey(o,e);!i||t&&!je(0,o[i],i,t)||(delete o[i],n=!0)}}return X.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let o=t.length,n=!1;for(;o--;){const i=t[o];e&&!je(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,o={};return X.forEach(this,((n,i)=>{const r=X.findKey(o,i);if(r)return t[r]=Oe(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,o)=>t.toUpperCase()+o))}(i):String(i).trim();s!==i&&delete t[i],t[s]=Oe(n),o[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,((o,n)=>{null!=o&&!1!==o&&(t[n]=e&&X.isArray(o)?o.join(", "):o)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach((e=>o.set(e))),o}static accessor(e){const t=(this[xe]=this[xe]={accessors:{}}).accessors,o=this.prototype;function n(e){const n=Re(e);t[n]||(!function(e,t){const o=X.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+o,{value:function(e,o,i){return this[n].call(this,t,e,o,i)},configurable:!0})}))}(o,e),t[n]=!0)}return X.isArray(e)?e.forEach(n):n(e),this}}Te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),X.reduceDescriptors(Te.prototype,(({value:e},t)=>{let o=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[o]=e}}})),X.freezeMethods(Te);const Pe=Te;function Ne(e,t){const o=this||Ae,n=t||o,i=Pe.from(n.headers);let r=n.data;return X.forEach(e,(function(e){r=e.call(o,r,i.normalize(),t?t.status:void 0)})),i.normalize(),r}function Ce(e){return!(!e||!e.__CANCEL__)}function Ue(e,t,o){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,o),this.name="CanceledError"}X.inherits(Ue,$,{__CANCEL__:!0});const Le=Ue;function ke(e,t,o){const n=o.config.validateStatus;o.status&&n&&!n(o.status)?t(new $("Request failed with status code "+o.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o)):e(o)}const Ie=function(e,t){e=e||10;const o=new Array(e),n=new Array(e);let i,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];i||(i=l),o[r]=a,n[r]=l;let d=s,u=0;for(;d!==r;)u+=o[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-i<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const De=function(e,t){let o,n,i=0,r=1e3/t;const s=(t,r=Date.now())=>{i=r,o=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=r?s(e,t):(o=e,n||(n=setTimeout((()=>{n=null,s(o)}),r-a)))},()=>o&&s(o)]},Me=(e,t,o=3)=>{let n=0;const i=Ie(50,250);return De((o=>{const r=o.loaded,s=o.lengthComputable?o.total:void 0,a=r-n,l=i(a);n=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:o,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),o)},Be=(e,t)=>{const o=null!=e;return[n=>t[0]({lengthComputable:o,total:e,loaded:n}),t[1]]},Ge=e=>(...t)=>X.asap((()=>e(...t))),Fe=ve.hasStandardBrowserEnv?((e,t)=>o=>(o=new URL(o,ve.origin),e.protocol===o.protocol&&e.host===o.host&&(t||e.port===o.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,We=ve.hasStandardBrowserEnv?{write(e,t,o,n,i,r){const s=[e+"="+encodeURIComponent(t)];X.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),X.isString(n)&&s.push("path="+n),X.isString(i)&&s.push("domain="+i),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ze(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ve=e=>e instanceof Pe?{...e}:e;function _e(e,t){t=t||{};const o={};function n(e,t,o,n){return X.isPlainObject(e)&&X.isPlainObject(t)?X.merge.call({caseless:n},e,t):X.isPlainObject(t)?X.merge({},t):X.isArray(t)?t.slice():t}function i(e,t,o,i){return X.isUndefined(t)?X.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function r(e,t){if(!X.isUndefined(t))return n(void 0,t)}function s(e,t){return X.isUndefined(t)?X.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(o,i,r){return r in t?n(o,i):r in e?n(void 0,o):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,o)=>i(Ve(e),Ve(t),0,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=l[n]||i,s=r(e[n],t[n],n);X.isUndefined(s)&&r!==a||(o[n]=s)})),o}const He=e=>{const t=_e({},e);let o,{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Pe.from(a),t.url=de(ze(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(n))if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(o=a.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(ve.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(t)),i||!1!==i&&Fe(t.url))){const e=r&&s&&We.read(s);e&&a.set(r,e)}return t},Je="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,o){const n=He(e);let i=n.data;const r=Pe.from(n.headers).normalize();let s,a,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=n;function f(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function m(){if(!g)return;const n=Pe.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());ke((function(e){t(e),f()}),(function(e){o(e),f()}),{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(o(new $("Request aborted",$.ECONNABORTED,e,g)),g=null)},g.onerror=function(){o(new $("Network Error",$.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||pe;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),o(new $(t,i.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,g)),g=null},void 0===i&&r.setContentType(null),"setRequestHeader"in g&&X.forEach(r.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),X.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),u&&"json"!==u&&(g.responseType=n.responseType),h&&([l,d]=Me(h,!0),g.addEventListener("progress",l)),p&&g.upload&&([a,c]=Me(p),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{g&&(o(!t||t.type?new Le(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const w=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);w&&-1===ve.protocols.indexOf(w)?o(new $("Unsupported protocol "+w+":",$.ERR_BAD_REQUEST,e)):g.send(i||null)}))},Ze=(e,t)=>{const{length:o}=e=e?e.filter(Boolean):[];if(t||o){let o,n=new AbortController;const i=function(e){if(!o){o=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $?t:new Le(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,i(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>X.asap(s),a}},qe=function*(e,t){let o=e.byteLength;if(!t||o<t)return void(yield e);let n,i=0;for(;i<o;)n=i+t,yield e.slice(i,n),i=n},Xe=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:o}=await t.read();if(e)break;yield o}}finally{await t.cancel()}},Qe=(e,t,o,n)=>{const i=async function*(e,t){for await(const o of Xe(e))yield*qe(o,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let r=n.byteLength;if(o){let e=s+=r;o(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Ke="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ye=Ke&&"function"==typeof ReadableStream,$e=Ke&&("function"==typeof TextEncoder?(et=new TextEncoder,e=>et.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var et;const tt=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ot=Ye&&tt((()=>{let e=!1;const t=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),nt=Ye&&tt((()=>X.isReadableStream(new Response("").body))),it={stream:nt&&(e=>e.body)};var rt;Ke&&(rt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!it[e]&&(it[e]=X.isFunction(rt[e])?t=>t[e]():(t,o)=>{throw new $(`Response type '${e}' is not supported`,$.ERR_NOT_SUPPORT,o)})})));const st=async(e,t)=>{const o=X.toFiniteNumber(e.getContentLength());return null==o?(async e=>{if(null==e)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e)){const t=new Request(ve.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return X.isArrayBufferView(e)||X.isArrayBuffer(e)?e.byteLength:(X.isURLSearchParams(e)&&(e+=""),X.isString(e)?(await $e(e)).byteLength:void 0)})(t):o},at={http:null,xhr:Je,fetch:Ke&&(async e=>{let{url:t,method:o,data:n,signal:i,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=He(e);c=c?(c+"").toLowerCase():"text";let h,f=Ze([i,r&&r.toAbortSignal()],s);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let m;try{if(l&&ot&&"get"!==o&&"head"!==o&&0!==(m=await st(d,n))){let e,o=new Request(t,{method:"POST",body:n,duplex:"half"});if(X.isFormData(n)&&(e=o.headers.get("content-type"))&&d.setContentType(e),o.body){const[e,t]=Be(m,Me(Ge(l)));n=Qe(o.body,65536,e,t)}}X.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;h=new Request(t,{...p,signal:f,method:o.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:i?u:void 0});let r=await fetch(h);const s=nt&&("stream"===c||"response"===c);if(nt&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=X.toFiniteNumber(r.headers.get("content-length")),[o,n]=a&&Be(t,Me(Ge(a),!0))||[];r=new Response(Qe(r.body,65536,o,(()=>{n&&n(),g&&g()})),e)}c=c||"text";let w=await it[X.findKey(it,c)||"text"](r,e);return!s&&g&&g(),await new Promise(((t,o)=>{ke(t,o,{data:w,headers:Pe.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:h})}))}catch(t){if(g&&g(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,h),{cause:t.cause||t});throw $.from(t,t&&t.code,e,h)}})};X.forEach(at,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const lt=e=>`- ${e}`,ct=e=>X.isFunction(e)||null===e||!1===e,dt=e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let o,n;const i={};for(let r=0;r<t;r++){let t;if(o=e[r],n=o,!ct(o)&&(n=at[(t=String(o)).toLowerCase()],void 0===n))throw new $(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+r]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let o=t?e.length>1?"since :\n"+e.map(lt).join("\n"):" "+lt(e[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n};function ut(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Le(null,e)}function pt(e){ut(e),e.headers=Pe.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return dt(e.adapter||Ae.adapter)(e).then((function(t){return ut(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=Pe.from(t.headers),t}),(function(t){return Ce(t)||(ut(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=Pe.from(t.response.headers))),Promise.reject(t)}))}const ht="1.7.9",ft={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ft[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}}));const gt={};ft.transitional=function(e,t,o){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(o?". "+o:"")}return(o,i,r)=>{if(!1===e)throw new $(n(i," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!gt[i]&&(gt[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(o,i,r)}},ft.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};const mt={assertOptions:function(e,t,o){if("object"!=typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const r=n[i],s=t[r];if(s){const t=e[r],o=void 0===t||s(t,r,e);if(!0!==o)throw new $("option "+r+" must be "+o,$.ERR_BAD_OPTION_VALUE)}else if(!0!==o)throw new $("Unknown option "+r,$.ERR_BAD_OPTION)}},validators:ft},wt=mt.validators;class yt{constructor(e){this.defaults=e,this.interceptors={request:new ue,response:new ue}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const o=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?o&&!String(e.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+o):e.stack=o}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=_e(this.defaults,t);const{transitional:o,paramsSerializer:n,headers:i}=t;void 0!==o&&mt.assertOptions(o,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),null!=n&&(X.isFunction(n)?t.paramsSerializer={serialize:n}:mt.assertOptions(n,{encode:wt.function,serialize:wt.function},!0)),mt.assertOptions(t,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=i&&X.merge(i.common,i[t.method]);i&&X.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Pe.concat(r,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[pt.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=pt.call(this,p)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return de(ze((e=_e(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],(function(e){yt.prototype[e]=function(t,o){return this.request(_e(o||{},{method:e,url:t,data:(o||{}).data}))}})),X.forEach(["post","put","patch"],(function(e){function t(t){return function(o,n,i){return this.request(_e(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:o,data:n}))}}yt.prototype[e]=t(),yt.prototype[e+"Form"]=t(!0)}));const vt=yt;class bt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const o=this;this.promise.then((e=>{if(!o._listeners)return;let t=o._listeners.length;for(;t-- >0;)o._listeners[t](e);o._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{o.subscribe(e),t=e})).then(e);return n.cancel=function(){o.unsubscribe(t)},n},e((function(e,n,i){o.reason||(o.reason=new Le(e,n,i),t(o.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bt((function(t){e=t})),cancel:e}}}const St=bt;const At={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(At).forEach((([e,t])=>{At[t]=e}));const Et=At;const xt=function e(t){const o=new vt(t),i=n(vt.prototype.request,o);return X.extend(i,vt.prototype,o,{allOwnKeys:!0}),X.extend(i,o,null,{allOwnKeys:!0}),i.create=function(o){return e(_e(t,o))},i}(Ae);xt.Axios=vt,xt.CanceledError=Le,xt.CancelToken=St,xt.isCancel=Ce,xt.VERSION=ht,xt.toFormData=ie,xt.AxiosError=$,xt.Cancel=xt.CanceledError,xt.all=function(e){return Promise.all(e)},xt.spread=function(e){return function(t){return e.apply(null,t)}},xt.isAxiosError=function(e){return X.isObject(e)&&!0===e.isAxiosError},xt.mergeConfig=_e,xt.AxiosHeaders=Pe,xt.formToJSON=e=>be(X.isHTMLForm(e)?new FormData(e):e),xt.getAdapter=dt,xt.HttpStatusCode=Et,xt.default=xt;const Rt=xt;var Ot=function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const jt=s(724);let Tt;const Pt=e=>e?(0,o.loadArcGISJSAPIModules)(["esri/geometry/Point"]).then((([t])=>new t({longitude:e.longitude,latitude:e.latitude,spatialReference:{wkid:4326}}))):Promise.resolve(null),Nt=e=>e?(0,o.loadArcGISJSAPIModules)(["esri/Graphic","esri/symbols/PictureMarkerSymbol"]).then((([t,o])=>{const n=new o({width:25,height:25,xoffset:0,yoffset:11,url:jt});return new t({geometry:e,symbol:n})})):Promise.resolve(null),Ct=(e,t)=>e?(0,o.loadArcGISJSAPIModules)(["esri/Graphic"]).then((([o])=>new o({geometry:e,symbol:{type:"text",text:"///"+t,font:{size:12,weight:"bold"},horizontalAlignment:"left",kerning:!0,rotated:!1,color:[225,31,38,1],haloColor:"#0A3049",haloSize:"1px",xoffset:12,yoffset:5}}))):Promise.resolve(null);const Ut={_widgetLabel:"what3words",x:"Longitude",y:"Latitude"};var Lt=s(321),kt=s(407),It=s(165),Dt=s.n(It),Mt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Bt=e=>{const o=window.SVG,{className:n}=e,i=Mt(e,["className"]),r=(0,t.classNames)("jimu-icon jimu-icon-component",n);return o?t.React.createElement(o,Object.assign({className:r,src:Dt()},i)):t.React.createElement("svg",Object.assign({className:r},i))};var Gt=function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Ft extends t.React.PureComponent{constructor(e){var n,i,r,s,a;super(e),this.getApiKey=()=>{var e,t;const o=null===(t=null===(e=this.props.config)||void 0===e?void 0:e.addressSettings)||void 0===t?void 0:t.w3wApiKey;return o||null},this.nls=e=>this.props.intl.formatMessage({id:e,defaultMessage:Ut[e]}),this.updateGeocodeURL=()=>{this.getGeocodeServiceURL().then((e=>{this.setState({w3wLocator:e})}))},this.getDefaultGeocodeServiceURL=()=>{var e,t;let o="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer";return(null===(t=null===(e=this.props.config)||void 0===e?void 0:e.addressSettings)||void 0===t?void 0:t.geocodeServiceUrl)?o=this.props.config.addressSettings.geocodeServiceUrl:this.props.portalSelf&&this.props.portalSelf.helperServices&&this.props.portalSelf.helperServices.geocode&&this.props.portalSelf.helperServices.geocode.length>0&&this.props.portalSelf.helperServices.geocode[0].url&&(o=this.props.portalSelf.helperServices.geocode[0].url),o},this.getGeocodeServiceURL=()=>Gt(this,void 0,void 0,(function*(){var e,t;let o=this.getDefaultGeocodeServiceURL();const n=yield this.getGeocodeURLFromUtility();return(null===(t=null===(e=this.props.config.addressSettings)||void 0===e?void 0:e.useUtilitiesGeocodeService)||void 0===t?void 0:t.length)>0&&(o=n),o})),this.getGeocodeURLFromUtility=()=>Gt(this,void 0,void 0,(function*(){var e,t,o,n;return(null===(t=null===(e=this.props.config.addressSettings)||void 0===e?void 0:e.useUtilitiesGeocodeService)||void 0===t?void 0:t.length)>0?this.getUrlOfUseUtility(null===(n=null===(o=this.props.config.addressSettings)||void 0===o?void 0:o.useUtilitiesGeocodeService)||void 0===n?void 0:n[0]):Promise.resolve("")})),this.getUrlOfUseUtility=e=>Gt(this,void 0,void 0,(function*(){return e?t.UtilityManager.getInstance().getUrlOfUseUtility(e).then((e=>Promise.resolve(e))):Promise.resolve("")})),this.isZoomLevelInRange=()=>{const{currentZoomLevel:e}=this.state;return e>=17&&e<=25},this.handleZoomChange=e=>Gt(this,void 0,void 0,(function*(){const t=this.isZoomLevelInRange();this.setState({isZoomInRange:t});const{currentAddress:o,currentMapPoint:n}=this.state;o&&n&&(yield this.addGraphicsToMap(o,n,e))})),this.onCopyClick=()=>{window.getSelection&&window.getSelection().removeAllRanges(),navigator.clipboard.writeText(this.state.what3words),this.setState({isCopyMessageOpen:!0}),setTimeout((()=>{window.getSelection&&window.getSelection().removeAllRanges(),this.setState({isCopyMessageOpen:!1})}),500)},this.openMapsite=()=>{const{what3words:e}=this.state;if(e){const t=`https://what3words.com/${encodeURIComponent(e)}?application=arcgis-experience-app`;window.open(t,"_blank")}else console.warn("No what3words address available to open.")},this.onActiveViewChange=e=>Gt(this,void 0,void 0,(function*(){if(!e)return;this.mapView=e.view,this.mapView.watch("zoom",this.handleZoomChange);this.getApiKey()?(this._clickHandle&&this._clickHandle.remove(),this._clickHandle=this.mapView.on("click",this.handleMapClick),this._zoomHandle||(this._zoomHandle=this.mapView.watch("zoom",(e=>{this.setState({currentZoomLevel:e},(()=>this.handleZoomChange(e)))})))):setTimeout((()=>{this.onActiveViewChange(e)}),500)})),this.handleMapClick=e=>Gt(this,void 0,void 0,(function*(){if(this.isWidgetActive())try{this.resetMapState();const t=yield this.getMapPointInWGS84(e.mapPoint);if(!t)return;yield this.zoomToLocation(t);const{latitude:o,longitude:n}=this.extractCoordinates(t);this.setState({latitude:o,longitude:n});const i=yield this.fetchAddress(o,n,t);if(!i)throw new Error("Address fetch failed.");this.updateStateWithAddress(i),this.setState({currentAddress:i,currentMapPoint:t});const{currentZoomLevel:r}=this.state;yield this.addGraphicsToMap(i,t,r)}catch(e){console.error("Error handling map click:",e)}})),this.zoomToLocation=e=>Gt(this,void 0,void 0,(function*(){try{yield this.mapView.goTo({center:[e.longitude||e.x,e.latitude||e.y],zoom:18})}catch(e){console.error("Failed to zoom to location:",e)}})),this.isWidgetActive=()=>{var e;const t=this.props.state||"OPENED",o=this.getApiKey();return!("apiKey"===(null===(e=this.props.config)||void 0===e?void 0:e.mode)&&!o||"OPENED"!==t)||(console.log("Widget is not active or API key is missing."),!1)},this.resetMapState=()=>{this.mapView.closePopup(),this.clearGraphics()},this.getMapPointInWGS84=e=>Gt(this,void 0,void 0,(function*(){var t;if(!e)return console.error("Invalid map point."),null;if(4326===(null===(t=e.spatialReference)||void 0===t?void 0:t.wkid))return e;const[n,i]=yield(0,o.loadArcGISJSAPIModules)(["esri/geometry/projection","esri/geometry/SpatialReference"]);n.isLoaded()||(yield n.load());const r=new i({wkid:4326}),s=n.project(e,r);return s||(console.error("Failed to project map point to WGS84."),null)})),this.extractCoordinates=e=>{var t,o,n,i;const r=(null===(t=e.latitude)||void 0===t?void 0:t.toFixed(6))||(null===(o=e.y)||void 0===o?void 0:o.toFixed(6)),s=(null===(n=e.longitude)||void 0===n?void 0:n.toFixed(6))||(null===(i=e.x)||void 0===i?void 0:i.toFixed(6));if(null===r||null===s)throw new Error("Invalid latitude or longitude.");return{latitude:r,longitude:s}},this.fetchAddress=(e,t,n)=>Gt(this,void 0,void 0,(function*(){if("apiKey"===this.props.config.mode){const o=this.props.config.w3wLanguage||"en";return yield function(e,t,o){return Ot(this,void 0,void 0,(function*(){if(!Tt)return console.error("W3W service is not initialized. Please call initializeW3wService first."),null;try{const n=yield Rt.get("https://api.what3words.com/v3/convert-to-3wa",{params:{coordinates:`${e},${t}`,key:Tt,language:o}});return n.data.words&&n.data.square?{words:n.data.words,square:n.data.square,nearestPlace:n.data.nearestPlace||"No nearby place available"}:(console.error("Invalid response from W3W API:",n.data),null)}catch(e){return console.error("Error fetching W3W address:",e),null}}))}(e,t,o)}const i=yield(r=this.state.w3wLocator,s=n,Ot(void 0,void 0,void 0,(function*(){if(!s)return console.error("Invalid map click location."),null;try{const[e]=yield(0,o.loadArcGISJSAPIModules)(["esri/rest/locator"]),t=yield Pt(s),n=yield e.locationToAddress(r,{location:t},{query:{}});if(null==n?void 0:n.address)return n.address;throw console.error("Unexpected response structure:",n),new Error("Address not found in response.")}catch(e){if(e.details&&e.details.messages){let t=e.details.messages[0]||"Unknown error occurred.";return t.includes("Error from W3W service: error code=PaymentRequired")&&(t="Quota exceeded or API plan does not have access to this feature. Please change your plan at https://accounts.what3words.com/select-plan, or contact support@what3words.com"),`Error fetching address: ${t}`}return`Error fetching address: ${e.message||"Unknown error occurred."}`}})));var r,s;return i.startsWith("Error"),{words:i,square:null,nearestPlace:null}})),this.updateStateWithAddress=e=>{e.words.startsWith("Error")?this.setState({what3words:e.words,nearestPlace:null}):this.setState({what3words:e.words,nearestPlace:e.nearestPlace||"Unknown location"})},this.addGraphicsToMap=(e,t,n)=>Gt(this,void 0,void 0,(function*(){try{const s=1,{config:a}=this.props;if(this.clearGraphics(),"apiKey"===a.mode)if(n<18){const o=yield Nt(t),n=yield Ct(t,e.words);o&&this.mapView.graphics.add(o),a.displayMapAnnotation&&n&&!e.words.startsWith("Error")&&this.mapView.graphics.add(n)}else if(e.square){const t=yield((e,t,...n)=>Ot(void 0,[e,t,...n],void 0,(function*(e,t,n=1){if(!e||!t)return null;try{const[i,r]=yield(0,o.loadArcGISJSAPIModules)(["esri/Graphic","esri/symbols/SimpleFillSymbol"]),s={type:"polygon",rings:[[e.southwest.lng,e.southwest.lat],[e.northeast.lng,e.southwest.lat],[e.northeast.lng,e.northeast.lat],[e.southwest.lng,e.northeast.lat],[e.southwest.lng,e.southwest.lat]],spatialReference:{wkid:4326}},a=t.zoom,l=Math.min(.5+.03*(28-a),1),c=[160,15,25],d=[225,31,38].map((e=>Math.min(e+15*n,255))),u=c.map((e=>Math.min(e+10*n,255)));return new i({geometry:s,symbol:new r({color:[...d,l],outline:{color:[...u,1],width:2}})})}catch(e){return console.error("Error creating polygon graphic with dynamic colors:",e),null}})))(e.square,this.mapView,s),n=yield(i=e.square,r=e.words,Ot(void 0,void 0,void 0,(function*(){if(!i||!r)return null;try{const[e]=yield(0,o.loadArcGISJSAPIModules)(["esri/Graphic"]),t=(i.southwest.lat+i.northeast.lat)/2;return new e({geometry:{type:"point",latitude:t,longitude:(i.southwest.lng+i.northeast.lng)/2,spatialReference:{wkid:4326}},symbol:{type:"text",text:"///"+r,font:{size:12,weight:"bold"},horizontalAlignment:"center",color:[225,31,38,1],haloColor:"#0A3049",haloSize:"1px",yoffset:25}})}catch(e){return console.error("Error creating map label graphic:",e),null}})));t&&this.mapView.graphics.add(t),a.displayMapAnnotation&&n&&!e.words.startsWith("Error")&&this.mapView.graphics.add(n)}else console.warn("Square data is missing for the current address.");else{const o=yield Nt(t),n=yield Ct(t,e.words);o&&this.mapView.graphics.add(o),a.displayMapAnnotation&&n&&!e.words.startsWith("Error")&&this.mapView.graphics.add(n)}}catch(e){console.error("Error adding graphics to map:",e)}var i,r})),this.componentWillUnmount=()=>{console.log("Component did mount: initial state:",this.props.state),this._isMounted=!1,this._zoomHandle&&this._zoomHandle.remove(),this._extentHandle&&this._extentHandle.remove(),this._clickHandle&&this._clickHandle.remove(),this.clearGraphics(),this.deactivateWidget()},this.deactivateWidget=()=>{console.log("Deactivating widget"),this.clearGraphics(),this.mapView&&(this._clickHandle&&(this._clickHandle.remove(),this._clickHandle=null),this.mapView.graphics.removeAll(),this.mapView.closePopup&&this.mapView.closePopup()),this.resetWidgetState()},this.activateWidget=()=>{console.log("Activating widget"),this.mapView&&(this._clickHandle&&this._clickHandle.remove(),this._clickHandle=this.mapView.on("click",(e=>{this.handleMapClick(e)})))},this.resetWidgetState=()=>{console.log("Resetting widget state..."),this.setState({latitude:"",longitude:"",what3words:null,isCopyMessageOpen:!1,currentZoomLevel:null})},this.clearGraphics=()=>{this.mapView&&this.mapView.graphics.removeAll()};let l=this.getDefaultGeocodeServiceURL();(null===(i=null===(n=this.props.config)||void 0===n?void 0:n.addressSettings)||void 0===i?void 0:i.geocodeServiceUrl)?l=this.props.config.addressSettings.geocodeServiceUrl:this.props.portalSelf&&this.props.portalSelf.helperServices&&this.props.portalSelf.helperServices.geocode&&this.props.portalSelf.helperServices.geocode.length>0&&this.props.portalSelf.helperServices.geocode[0].url&&(l=this.props.portalSelf.helperServices.geocode[0].url),this._isMounted=!1,this.isRTL=!1;const c=(0,t.getAppStore)().getState();this.isRTL=null===(r=null==c?void 0:c.appContext)||void 0===r?void 0:r.isRTL,this.state={w3wLocator:l,JimuMapView:null,latitude:"",longitude:"",what3words:null,isCopyMessageOpen:!1,currentZoomLevel:null,isZoomInRange:!1,nearestPlace:null,extent:null,currentAddress:null,currentMapPoint:null},(null===(a=null===(s=this.props.config.addressSettings)||void 0===s?void 0:s.useUtilitiesGeocodeService)||void 0===a?void 0:a.length)>0&&this.updateGeocodeURL()}componentDidMount(){var e;console.log("Component did mount");try{const t=this.props.state||"OPENED",o=this.getApiKey();"apiKey"===(null===(e=this.props.config)||void 0===e?void 0:e.mode)&&o&&function(e){Ot(this,void 0,void 0,(function*(){e?(Tt=e,console.log("What3Words service initialized.")):console.error("W3W API Key is required to initialize the service.")}))}(o),"OPENED"===t?this.activateWidget():"CLOSED"===t&&this.deactivateWidget(),this.mapView.watch("zoom",(e=>{this.setState({currentZoomLevel:e})}))}catch(e){console.error("Error in componentDidMount:",e)}}componentDidUpdate(e){var t,o,n,i,r,s,a,l,c,d,u,p,h,f,g,m,w,y,v,b;const S=e.state||"OPENED",A=this.props.state||"OPENED",E=e.config.mode,x=this.props.config.mode;if(e.config!==this.props.config){this.getApiKey()||console.warn("API Key is missing after config update."),this.mapView||(console.log("Reinitializing map view with updated API Key..."),this.onActiveViewChange(e.jimuMapView))}S!==A&&("CLOSED"===A?(console.log("[Widget] Deactivating..."),this.deactivateWidget()):"OPENED"===A&&(console.log("[Widget] Activating..."),this.activateWidget())),E!==x&&(console.log(`Mode changed from ${E} to ${x}`),"locatorUrl"===x&&this.setState({w3wLocator:null===(o=null===(t=this.props.config)||void 0===t?void 0:t.addressSettings)||void 0===o?void 0:o.geocodeServiceUrl})),(null===(i=null===(n=e.config)||void 0===n?void 0:n.addressSettings)||void 0===i?void 0:i.geocodeServiceUrl)!==(null===(s=null===(r=this.props.config)||void 0===r?void 0:r.addressSettings)||void 0===s?void 0:s.geocodeServiceUrl)&&this.setState({w3wLocator:null===(l=null===(a=this.props.config)||void 0===a?void 0:a.addressSettings)||void 0===l?void 0:l.geocodeServiceUrl}),((null===(d=null===(c=this.props.config.addressSettings)||void 0===c?void 0:c.useUtilitiesGeocodeService)||void 0===d?void 0:d.length)>0&&(null===(h=null===(p=null===(u=e.config.addressSettings)||void 0===u?void 0:u.useUtilitiesGeocodeService)||void 0===p?void 0:p[0])||void 0===h?void 0:h.utilityId)!==(null===(m=null===(g=null===(f=this.props.config.addressSettings)||void 0===f?void 0:f.useUtilitiesGeocodeService)||void 0===g?void 0:g[0])||void 0===m?void 0:m.utilityId)||0===(null===(y=null===(w=this.props.config.addressSettings)||void 0===w?void 0:w.useUtilitiesGeocodeService)||void 0===y?void 0:y.length)&&(null===(v=e.config.addressSettings)||void 0===v?void 0:v.useUtilitiesGeocodeService.length)!==(null===(b=this.props.config.addressSettings)||void 0===b?void 0:b.useUtilitiesGeocodeService.length))&&this.updateGeocodeURL()}render(){const{what3words:e,latitude:n,longitude:i,nearestPlace:r}=this.state,{config:s,theme:a,useMapWidgetIds:l}=this.props,c="apiKey"===(null==s?void 0:s.mode);return l&&0!==l.length?(0,t.jsx)("div",{css:t.css`

      .w3w-card {
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        width: 100%;
        max-width: 100%;
        margin: 0 auto;
        box-sizing: border-box;
      }

      .card-title {
        font-size: 16px;
        color: #0A3049;
        font-weight: bold;
        margin: 0;
      }

      .w3w-address-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
        flex-wrap: wrap;
      }

      .w3w-slash {
        color: #E11F26;
        font-size: 20px;
      }

      .w3w-text {
        font-size: 20px;
        color: #0A3049;
        flex: 1;
        word-wrap: break-word;
      }

      .w3w-placeholder {
        font-size: 14px; 
        line-height: 1.2; 
        font-weight: 400; 
        color: #525252;
        text-align: center; 
      }

      .w3w-error {
        color: #E11F26;
        font-weight: 600;
        font-size: 14px;
      }

      .w3w-address {
        font-size: 20px;
        font-weight: bold;
        color: #0A3049;
      }

      .w3w-actions {
        display: flex;
        gap: 4px;
        flex-wrap: wrap;
      }

      .copy-button{
        display: flex;
        margin: 0 4px;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        & svg {
          width: 18px;
          height: 18px;
        }
      }

      .card-subtitle {
        font-size: 14px;
        color: #525252;
        margin: 0;
      }

      .button-group-container {
        width: 100%; 
      }

      .full-width {
        display: flex;
        width: 100%; 
        margin: 0; 
        padding: 0; 
        box-sizing: border-box;
        flex-wrap: wrap;
      }

      .full-width .jimu-btn span {
        margin-left: 6px; 
        flex-shrink: 1; /* Allow text to resize or ellipsis if needed */
        text-overflow: ellipsis; /* Truncate text if it's too long */
        white-space: nowrap; /* Prevent wrapping of text */
      }

      .full-width .jimu-btn img {
        margin-right: 6px;
        flex-shrink: 0;
      }

      .full-width .jimu-btn.active {
        background-color: #00456b; 
      }

      .action-buttons {
        margin-top: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .action-buttons button {
        display: flex;
        align-items: center;
        padding: 6px 10px;
        font-size: 14px;
        background: none;
        border: .1px solid transparent;
        border-radius: 4px;
        transition: all 0.2s;
        flex: 1;
        justify-content: center;
      }

      .action-buttons button:hover {
        background-color: #005379;
      }

      .action-buttons button span {
        white-space: nowrap;
      }

      .full-width .jimu-btn.active {
        background-color: #005379; /* Active background color */
        color: #ffffff; /* White text for contrast */
        font-weight: bolder;
        cursor: pointer;
      }

      .full-width .jimu-btn.active img,
      .full-width .jimu-btn.active span {
        color: #ffffff; /* Ensure text and icons are visible */
      }

      .full-width .export-button {
        border-left: 1px solid #fff; /* Left border for the Export button */
        border-right: 1px solid #fff; /* Right border for the Export button */
      }

      button span {
        margin-left: 5px;
      }

      @media (max-width: 768px) {
      .w3w-card {
        padding: 12px; /* Reduce padding for smaller screens */
        gap: 8px; /* Reduce spacing */
      }

      .full-width .jimu-btn {
        padding: 8px; /* Adjust padding for smaller buttons */
        font-size: 13px; /* Reduce font size */
      }

      .action-buttons button {
        padding: 6px 8px; /* Compact button padding */
        font-size: 12px; /* Smaller font for mobile */
      }
    }
    `,className:"widget-starter jimu-widget"},(0,t.jsx)(o.JimuMapViewComponent,{useMapWidgetId:l[0],onActiveViewChange:this.onActiveViewChange}),(0,t.jsx)("div",{className:"w3w-card"},(0,t.jsx)("h5",{className:"card-title"},"what3words Address"),(0,t.jsx)("div",{className:"w3w-address-row"},(0,t.jsx)("span",{className:"w3w-address"},e?(0,t.jsx)(t.React.Fragment,null,e.startsWith("Error")?(0,t.jsx)("span",{className:"w3w-error"},e.replace("Error: ","")):(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)("span",{className:"w3w-slash"},"///"),(0,t.jsx)("span",{className:"w3w-text"},e))):(0,t.jsx)("span",{className:"w3w-placeholder"},"Click on the map to get what3words address.")),(0,t.jsx)("div",{className:"w3w-actions"},s.displayCopyButton&&e&&!e.startsWith("Error")&&(0,t.jsx)(kt.CopyButton,{text:`///${e}`,onCopy:this.onCopyClick.bind(this)}),s.displayMapsiteButton&&e&&!e.startsWith("Error")&&(0,t.jsx)(Lt.Button,{type:"tertiary","aria-label":"Open Mapsite",title:"Open Mapsite",icon:!0,size:"sm",disabled:!e,onClick:this.openMapsite.bind(this)},(0,t.jsx)(Bt,{size:"16"})))),s.displayNearestPlace&&c&&r&&e&&(0,t.jsx)("p",{className:"card-subtitle"},e?r:"No nearest places available"),s.displayCoordinates&&e&&(0,t.jsx)("p",{className:"card-subtitle"},"Latitude: ",n||"N/A",", Longitude: ",i||"N/A"))):(console.error("No map widget ID found. Ensure the widget is properly linked to a map."),(0,t.jsx)("div",null,(0,t.jsx)("h5",null,"Please configure this widget to use a map widget.")))}}function Wt(e){s.p=e}})(),a})())}}}));